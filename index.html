<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/31/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/31/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-31 18:04:41" itemprop="dateCreated datePublished" datetime="2023-07-31T18:04:41+08:00">2023-07-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-07-19 15:31:11" itemprop="dateModified" datetime="2023-07-19T15:31:11+08:00">2023-07-19</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/31/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%A6%82%E7%8E%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/31/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%A6%82%E7%8E%87/" class="post-title-link" itemprop="url">第一章 事件的概率</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-31 13:44:50" itemprop="dateCreated datePublished" datetime="2023-07-31T13:44:50+08:00">2023-07-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-08-02 13:52:36" itemprop="dateModified" datetime="2023-08-02T13:52:36+08:00">2023-08-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-1-概率是什么"><a href="#1-1-概率是什么" class="headerlink" title="1.1 概率是什么"></a>1.1 概率是什么</h1><p>概率，（或然率、几率）是表示某种情况（事件）出现的可能性大小的一种数量指标，介于0和1之间</p>
<h2 id="1-1-1-主观概率"><a href="#1-1-1-主观概率" class="headerlink" title="1.1.1 主观概率"></a>1.1.1 主观概率</h2><p>主观概率指人对一种情况的主观估计，可以理解为一种心态或倾向性。究其根由有二：  </p>
<ul>
<li>1、根据其经验和知识</li>
<li>2、根据其利害关系尔产生的心态倾向</li>
</ul>
<h3 id="主观概率的特点"><a href="#主观概率的特点" class="headerlink" title="主观概率的特点"></a>主观概率的特点</h3><p>不是在坚实的客观理由基础上为人们所公认的，但不应该全盘否定，理由如下：</p>
<ul>
<li>1、这个概念有广泛的生活基础</li>
<li>2、这可能反映认识主体的一种倾向性，而有其社会意义</li>
<li>3、处于不同地位和掌握情报多少不同的人，对某事件可能性大小要参照这些情况及可能的后果去作衡量<h2 id="1-1-2-试验与事件"><a href="#1-1-2-试验与事件" class="headerlink" title="1.1.2 试验与事件"></a>1.1.2 试验与事件</h2><h3 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h3>在通常的意义下，指一种已发生的情况；在概率论中，“事件”一词的一般含义如下：</li>
<li>1.有一个明确界定的试验。试验一词，有人为主动的意思，而人只处在被动地位，只是记录而并不干预的情况一般称为“观察”。目前可以把试验一词理解为包含了观察</li>
<li>2.这个试验的全部可能结果，是在试验前就明确的。在不少情况下，我们不能确切知道一试验的全部可能结果，但可以知道它不超出某个范围，这时，也可以用这个范围来作为该试验的全部可能结果</li>
<li>3.我们有一个明确的陈述，这个陈述界定了试验的全部可能结果中一确定的部分，这个陈述就叫做一个事件。以掷骰子为例，我们可以定义许多事件，例如：<br>E₁={掷出偶数点}<br>E₂={掷出素数点}<br>E₃={掷出3的倍数点}</li>
</ul>
<p>由此，我们可以说事件是与试验结果有关的一个命题，其正确与否取决于试验结果如何。<br>在概率论上，有时把单一的试验结果称为一个“基本事件”，一个或一些基本事件并在一起，就构成一个事件，而基本事件本身也是事件。我们常称事件为“随机事件”或“偶然事件”也就是说，事件是否在某次试验中发生，取决于机遇。其极端情况，是“必然事件”和“不可能事件”，可以他们分别等同于概率为1和概率为0的事件</p>
<h2 id="1-1-3古典概率"><a href="#1-1-3古典概率" class="headerlink" title="1.1.3古典概率"></a>1.1.3古典概率</h2><h3 id="等可能性"><a href="#等可能性" class="headerlink" title="等可能性"></a>等可能性</h3><p>假定某个试验有有限个可能的结果e₁,e₂,…,$e_n$.所有结果在试验中有同等可能,即1/N的出现机会.常常把这样的试验结果称为”等可能的”。<br><strong><em>在”等可能性”概念的基础上，我们引进古典概率的定义</em></strong></p>
<h3 id="古典概率"><a href="#古典概率" class="headerlink" title="古典概率"></a>古典概率</h3><p>设一个试验有N个等可能的结果，而事件E恰包含其中的M个结果，则事件E的概率，记为P(E),定义为</p>
<script type="math/tex; mode=display">
P(E)= \frac{M}{N}</script><p>古典概率的计算主要基于排列组合</p>
<h3 id="分赌本问题（已简化）"><a href="#分赌本问题（已简化）" class="headerlink" title="分赌本问题（已简化）"></a>分赌本问题（已简化）</h3><ul>
<li>题目：甲、乙两人赌技相同，各出赌注500元.约定：谁先胜三局，则谁拿走全部1000元.现已赌了三局，甲二胜一负而因故要中止赌博，问这1000元要如何分，才算公平?</li>
<li>解：设继续赌两局，则可能结果如下：<br>甲甲，甲乙，乙甲，乙乙<br>∵这四个结果是等可能的<br>∴甲赢的可能性为0.75，乙的为0.25<br>∴甲分750元，乙分250元  </li>
</ul>
<hr>
<h3 id="古典概率的局限性"><a href="#古典概率的局限性" class="headerlink" title="古典概率的局限性"></a>古典概率的局限性</h3><p>只能用于全部试验结果为有限个，且等可能性成立的情况，但在几何概率下，这概念可稍稍引申到试验结果有无限多的情况，举一个例子：<br>问题：甲、乙二人约定1点到2点之间在某处碰头，约定先到者等候10分钟即离去.设想甲、乙二人各自随意地在1—2点之间选一个时刻到达该处，问“甲乙二人能碰上”这事件E的概率是多少？<br>解：设甲到时间为x，乙到时间为y，以1点钟作原点，一分为单位，则得到坐标系：<br><img src="/2023/07/31/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%A6%82%E7%8E%87/zuobiaoxi.png" alt="坐标系"><br>正方形OABC内每个点都是一个等可能的试验结果，而这个正方形就是全部可能的结果之集。<br>按约定，只有当|x-y|≤10即点(x,y)落在OFGBHI内时，E才发生。<br>全正方形的面积为60²=3600<br>上述多边形的面积为1100<br>∴事件E的概率为</p>
<script type="math/tex; mode=display">
P(E)=\frac{1100}{3600}=\frac{11}{36}</script><hr>
<p>这样算出的概率称为“几何概率”,因它是基于几何图形的长度、面积、体积等而算出的。</p>
<h2 id="1-1-4-概率的统计定义"><a href="#1-1-4-概率的统计定义" class="headerlink" title="1.1.4  概率的统计定义"></a>1.1.4  概率的统计定义</h2><h3 id="概率的统计定义"><a href="#概率的统计定义" class="headerlink" title="概率的统计定义"></a>概率的统计定义</h3><p>概率的统计定义是一种通过实验去估计事件概率的方法。通过反复的进行大量的实验（假设为n次），若在这n次实验中事件E共出现m₁次，则称$\frac{m₁}{n}$是E在这n次试验中的“频率”。概率的统计定义的要旨是说，就拿这个频率$\frac{m₁}{n}$作为事件E的概率P(E)的估计。我们也可以说把事件E的概率定义为具有如下性质的一个数p:当把实验重复时，E的频率在p的附近摆动，且当重复次数增大时，这摆动愈来愈小；或者说：概率就是当试验次数无限增大时频率的极限</p>
<h3 id="概率的统计定义的重要性"><a href="#概率的统计定义的重要性" class="headerlink" title="概率的统计定义的重要性"></a>概率的统计定义的重要性</h3><p>1、概率的统计定义提供了一种估计概率的方法<br>2、概率的统计定义提供了一种检验理论正确与否的准则</p>
<h2 id="1-1-5-概率的公理化定义"><a href="#1-1-5-概率的公理化定义" class="headerlink" title="1.1.5  概率的公理化定义"></a>1.1.5  概率的公理化定义</h2><h2 id="柯氏的公理体系"><a href="#柯氏的公理体系" class="headerlink" title="柯氏的公理体系"></a>柯氏的公理体系</h2><p>在1933年，现代前苏联大数学家柯尔莫哥洛夫成功地将概率论实现公理化。在柯氏的公理体系中引进一个抽象的集合$\Omega$,其元素$\omega$由于一个事件是由若干基本事件构成，在柯氏公理体系中考虑由$\Omega$的子集(包括$\Omega$本身及∅)构成的一个集类F，F不必包括$\Omega$的一切可能的子集，且必须满足某种我们在此不必仔细说明的条件F中的每个成员就称为“事件”。引进一个定义在F上的函数P，对F中任一成员A,P(A)之值理解为事件A的概率。柯氏公理体系对这个函数P加上了几条要求(公理):  </p>
<ul>
<li>1、0≤P(A)≤1</li>
<li>2、P($\Omega$)=1,P(∅)=0</li>
</ul>
<hr>
<p>柯氏公理只是介定了概率这个概念所必须满足的一些一般性质，它没有也不可能解决在特定场合下如何定出概率的问题</p>
<h1 id="1-2古典概率计算"><a href="#1-2古典概率计算" class="headerlink" title="1.2古典概率计算"></a>1.2古典概率计算</h1><h2 id="1-2-1-排列组合的几个简单公式"><a href="#1-2-1-排列组合的几个简单公式" class="headerlink" title="1.2.1  排列组合的几个简单公式"></a>1.2.1  排列组合的几个简单公式</h2><h3 id="排列和组合"><a href="#排列和组合" class="headerlink" title="排列和组合"></a>排列和组合</h3><ul>
<li>ab和ba是不同的排列，但是是相同的组合<h4 id="排列"><a href="#排列" class="headerlink" title="排列"></a>排列</h4>n个相异物件取r个(1≤r≤n)的不同排列总数，为<script type="math/tex; mode=display">
P_r^n=n(n-1)(n-2)…(n-r+1)</script>**若n=r,则<script type="math/tex; mode=display">
P_r^r =r(r-1)…1=r!</script></li>
<li><em>0!=1;当r不是非负整数时，记号r!没有意义</em><h4 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h4>n个相异物件取r个(1≤r≤n)的不同组合总数，为<script type="math/tex; mode=display">
C_r^n= \frac{P_r^n}{r!}=\frac{n!}{r!(n-r)!}</script>今后我们将用<script type="math/tex; mode=display">
\begin{pmatrix}
n\\
r
\end{pmatrix}</script>取代$C_r^n$<h4 id="与二项式展开的关系"><a href="#与二项式展开的关系" class="headerlink" title="与二项式展开的关系"></a>与二项式展开的关系</h4>组合系数<script type="math/tex; mode=display">
\begin{pmatrix}
n\\
r
\end{pmatrix}</script>又常称为二项式系数，因为它出现在下面熟知的二项式展开的公式中：<script type="math/tex; mode=display">
(a+b)^n=\sum_{i=0}^n\begin{pmatrix}
n\\
r
\end{pmatrix}a^ib^{n-i}</script></li>
<li>令a=b=1，得<script type="math/tex; mode=display">
\begin{pmatrix}
n\\
0
\end{pmatrix}+\begin{pmatrix}
n\\
1
\end{pmatrix}+…+\begin{pmatrix}
n\\
n
\end{pmatrix}=2^n</script></li>
<li>令a=-1,b=1，得<script type="math/tex; mode=display">
\begin{pmatrix}
n\\
0
\end{pmatrix}-\begin{pmatrix}
n\\
1
\end{pmatrix}+\begin{pmatrix}
n\\
2
\end{pmatrix}-…+(-1)^n\begin{pmatrix}
n\\
n
\end{pmatrix}=0</script><h4 id="分堆问题"><a href="#分堆问题" class="headerlink" title="分堆问题"></a>分堆问题</h4>n个相异物件分成k堆，各堆物件数分别为r₁,…,$r_k$的分法是<script type="math/tex; mode=display">
n!/(r_1!…r_k!)</script><h1 id="1-3-事件的运算、条件概率与独立性"><a href="#1-3-事件的运算、条件概率与独立性" class="headerlink" title="1.3  事件的运算、条件概率与独立性"></a>1.3  事件的运算、条件概率与独立性</h1>对数字进行运算得出新的数，而对事件作运算则得出新的事件<h2 id="1-3-1-事件的蕴含、包含及相等"><a href="#1-3-1-事件的蕴含、包含及相等" class="headerlink" title="1.3.1  事件的蕴含、包含及相等"></a>1.3.1  事件的蕴含、包含及相等</h2>在同一试验下的两事件A和B,如果当A发生时B必发生，则称A蕴含B,或者说B包含A,记为$A\subset{B}$。若A,B互相蕴含，即$A\subset{B}$且$B\subset{A}$,则称A,B两事件相等，记为A=B。如果A蕴含B,那A中的试验结果必在B中；“两事件A,B相等”的意思是A,B由完全同一的一些试验结果构成。<h2 id="1-3-2-事件的互斥和对立"><a href="#1-3-2-事件的互斥和对立" class="headerlink" title="1.3.2  事件的互斥和对立"></a>1.3.2  事件的互斥和对立</h2><h3 id="互斥事件"><a href="#互斥事件" class="headerlink" title="互斥事件"></a>互斥事件</h3>若两事件A,B不能在同一次试验中都发生,则称它们是互斥的；如果一些事件中任意两个都互斥，则称这些事件是两两互斥的，或简称互斥的。由此可以看出，互斥事件的意思是构成这两个事件各自的试验结果中不能有公共的<br>互斥事件的一个重要情况是“对立事件”<h3 id="对立事件"><a href="#对立事件" class="headerlink" title="对立事件"></a>对立事件</h3>若A为一事件，则事件B={A不发生}称为A的对立事件，多记为$\overline{A}$<h2 id="1-3-3-事件的和-或称并"><a href="#1-3-3-事件的和-或称并" class="headerlink" title="1.3.3  事件的和(或称并)"></a>1.3.3  事件的和(或称并)</h2>设有两事件A,B,定义一个新事件C：C={A发生，或B发生}={A,B至少发生一个}。这样定义的事件C称为事件A与事件B的和，记为C=A+B<br>**推广：设有若干个事件A₁,A₂,…,$A_n$.它们的和A,定义为事件A ={A₁发生，或A₂发生，…,或$A_n$发生}={A₁,A₂,…,$A_n$至少发生一个}，记为A+A₂+…+$A_n$,或<script type="math/tex; mode=display">
\sum_{i=1}^nA_i</script><h2 id="1-3-4-概率的加法定理"><a href="#1-3-4-概率的加法定理" class="headerlink" title="1.3.4  概率的加法定理"></a>1.3.4  概率的加法定理</h2><h3 id="加法定理"><a href="#加法定理" class="headerlink" title="加法定理"></a>加法定理</h3>若干个互斥事件之和的概率，等于各事件的概率之和：<br>P(A₁+A₂+…)=P(A₁)+P(A₂)+…<br><em>加法定理的一个重要推论如下：</em><br>以$\overline{A}$表A的对立事件，则<script type="math/tex; mode=display">
P(\overline{A})=1-P(A)</script><h2 id="1-3-5-事件的积-或称交-、事件的差"><a href="#1-3-5-事件的积-或称交-、事件的差" class="headerlink" title="1.3.5  事件的积(或称交)、事件的差"></a>1.3.5  事件的积(或称交)、事件的差</h2><h3 id="事件的积"><a href="#事件的积" class="headerlink" title="事件的积"></a>事件的积</h3>设有两事件A,B,则定义事件C为C={A,B都发生}，此时C称为两事件A,B之积或乘积，并记为AB。<br><em>两个事件A,B互斥，等于说AB是不可能事件</em></li>
<li>推论：<br>多个事件A₁,A₂,…的积的定义：A={A₁,A₂,…都发生},记为A=A₁A₂…,或(事件有限)<script type="math/tex; mode=display">
\prod_{i=1}^nA_i</script>或(事件个数无限)<script type="math/tex; mode=display">
\prod_{i=1}^∞A_i</script><h3 id="事件的差"><a href="#事件的差" class="headerlink" title="事件的差"></a>事件的差</h3>两个事件A,B之差，记为A-B,定义为A-B={A发生，B不发生}。  </li>
<li>推论：<script type="math/tex; mode=display">
A-B=\overline{A}B</script><h3 id="事件运算法则"><a href="#事件运算法则" class="headerlink" title="事件运算法则"></a>事件运算法则</h3><em>算术的法则不一定能用于事件运算</em><br>1、A+B及AB与次序无关<br>A+B=B+A,AB=BA<br>2、乘法结合律<br>(AB)C=A(BC) (=ABC)<br>3、分配律<br>A(B-C)= AB-AC</li>
<li>证：左：事件A和B-C都发生；B发生，C不发生<br>∴A,B同时发生而A,C不同时发生<br>∴左=AB-AC<br>右：AB发生而AC不发生<br>∴A,B都发生<br>∵AC不发生<br>∴C不发生<br>∴B-C发生<br>∴右=A(B-C)<br>得证</li>
</ul>
<hr>
<h2 id="1-3-6条件概率"><a href="#1-3-6条件概率" class="headerlink" title="1.3.6条件概率"></a>1.3.6条件概率</h2><h3 id="条件概率"><a href="#条件概率" class="headerlink" title="条件概率"></a>条件概率</h3><p>在附加一定的条件之下所计算的概率。从广义的意义上说，任何概率都是条件概率。在概率论中，规定试验的那些基础条件被看作是已定不变的，如果不再加入其他条件或假定，则算出的概率就叫做”无条件概率”（通常所说的概率），“条件概率”则是指另外附加的条件，其形式为”已知某事件发生了”  </p>
<hr>
<p>设一试验有N个等可能结果，事件A,B分别包含其M₁和M₂个结果，它们有M₁₂个是公共的（AB所包含的试验结果数），若已给B发生，则我们的考虑由起先的N个可能结果局限到现在的M₂个，其中只有M₁₂个试验结果使事件A发生，故一个合理的条件概率定义，应把P(A|B)（已知B发生的条件下A的概率）取为M₁₂/M₂。由于M₁₂/M₂=(M₁₂/N)/(M₂/N)=P(AB)/P(B)，得出条件概率的定义：</p>
<h4 id="条件概率的定义"><a href="#条件概率的定义" class="headerlink" title="条件概率的定义"></a>条件概率的定义</h4><p>设有两事件A,B而P(B)≠0.则“在给定B发生的条件下A的条件概率”,记为P(A|B),定义为</p>
<script type="math/tex; mode=display">
P(A|B)= P(AB)/P(B)</script><h2 id="1-3-7事件的独立性，概率乘法定理"><a href="#1-3-7事件的独立性，概率乘法定理" class="headerlink" title="1.3.7事件的独立性，概率乘法定理"></a>1.3.7事件的独立性，概率乘法定理</h2><p>设有两事件A、B，若P(A|B)&gt;P(A),则B的发生使A发生的可能性增大了；B促进了A的发生。<br>若P(A)=P(A|B),则B的发生与否对A发生的可能性毫无影响，这时在概率论上就称A,B两事件独立。由上述式子可以推出P(AB)= P(A)P(B)，由此可得：</p>
<h3 id="事件独立的定义"><a href="#事件独立的定义" class="headerlink" title="事件独立的定义"></a>事件独立的定义</h3><p>两事件A,B若满足P(AB)= P(A)P(B),则称A,B独立.</p>
<h3 id="概率的乘法定理"><a href="#概率的乘法定理" class="headerlink" title="概率的乘法定理"></a>概率的乘法定理</h3><h4 id="定理一"><a href="#定理一" class="headerlink" title="定理一"></a>定理一</h4><ul>
<li>两独立事件A,B的积AB之概率P(AB)等于其各自概率之积P(A)P(B)，即<script type="math/tex; mode=display">
P(AB)= P(A)P(B)</script></li>
</ul>
<hr>
<p>在实际问题中，我们并不常用概率的乘法定理去判断两事件A,B是否独立，而是相反：从事件的实际角度去分析判断其不应有关联因而是独立的，然后就可以用概率的乘法定理。<br><em>两个事件如果都依赖同一批结果，彼此之间必会有影响</em></p>
<ul>
<li>推广：  <h5 id="多个事件独立性的定义："><a href="#多个事件独立性的定义：" class="headerlink" title="多个事件独立性的定义："></a>多个事件独立性的定义：</h5>设A₁,A₂,…为有限或无限个事件，如果从其中任意取出有限个$A<em>{i_1},A</em>{i<em>2},…,A</em>{i_m}$,都成立:<script type="math/tex; mode=display">
P(A_{i_1},A_{i_2},…,A_{i_m})=P(A_{i_1})P(A_{i_2})…P(A_{i_m})</script>则称事件A1,A₂,…相互独立，简称独立。与之等价的，有：<br>对任何互不相同的i₁,i₂,…,$i_n$,有:<script type="math/tex; mode=display">
P(A_{i_1}|A_{i_2},…,A_{i_m} )= P(A_{i_1})</script>即任意事件$A<em>{i_1}$;发生的可能性大小，不受其他事件发生的影响($A</em>{i_1}$独立)</li>
<li><em>多个事件的独立性往往产生于由多个试验构成的复合试验中，每个事件只与其中一个试验有关。</em>  </li>
</ul>
<hr>
<p>由独立性定义立即得出下面的概率乘法定理和它的两条重要推论：</p>
<h4 id="定理二"><a href="#定理二" class="headerlink" title="定理二"></a>定理二</h4><p>若干个独立事件A₁,…,$A_n$,之积的概率，等于各事件概率的乘积：</p>
<script type="math/tex; mode=display">
P(A_1…A_n)=P(A_1)…P(A_n)</script><p><em>推论：</em>  </p>
<ul>
<li>独立事件的任一部分也独立<br>例如，A,B,C,D四事件相互独立，则A,C,或A,B,D等，都是独立的。<br><em>可以更进一步可推广为：由独立事件决定的事件也独立。</em><br>举例来说，若事件A₁,…,A₆相互独立，则B₁=A₁+A₂,B₂=A₃-A₄,B₃=A₅A₆也独立。如果把B₃改为A₄A₅A₆,则B₂,B₃都与A₄有关,就不一定独立了<ul>
<li>若一列事件A₁,A₂,…相互独立，则将其中任一部分改为对立事件时，所得事件列仍为相互独立。<br>例如，若A₁,A₂,A₃相互独立，则$\overline{A₁}$,A₂,A₃,或$\overline{A₁}$,A₂,$\overline{A₃}$,或$\overline{A_1}$,$\overline{A_2}$,$\overline{A₃}$等，都是互相独立的。</li>
</ul>
</li>
</ul>
<hr>
<p>问题：$A_1,A_2,A_3$相互独立，要证$\overline{A_1}$,A₂,$\overline{A_3}$独立。</p>
<ul>
<li>证：P($\overline{A_1}A_2\overline{A_3}$)=P($\overline{A_1}$)P(A₂)P($\overline{A_3}$)<script type="math/tex; mode=display">
∵A_i=1-\overline{A_i}</script><script type="math/tex; mode=display">
∴P(\overline{A_1}A_2\overline{A_3})=P(A_2\overline{A_3})-P(A_1A_2\overline{A_3})=P(A_2)-P(A_2)P(A_3)-(P(A_1A_2)-P(A_1A_2A_3))</script><script type="math/tex; mode=display">
=P(A_2)-P(A_2)P(A_3)-(P(A_1)P(A_2)-P(A_1)P(A_2)P(A_3))</script><script type="math/tex; mode=display">
=P(A_2)P(\overline{A_3})-P(A_1)P(A_2)P(\overline{A_3})=P(\overline{A_1})P(A_2)P(\overline{A_3})</script>得证</li>
</ul>
<hr>
<p>可以看出：当涉及众多的事件时，这么处理会很冗长，但并无任何实质困难  </p>
<h3 id="两两独立"><a href="#两两独立" class="headerlink" title="两两独立"></a>两两独立</h3><p>一些事件A₁,A₂,…,如果其中任意两个都独立，则称它们两两独立。由相互独立必推出两两独立，反过来不一定对。<br><strong><em>在实用上，确有许多事件其相依性很小，在误差容许的范围内，它们可视为独立的</em></strong></p>
<h2 id="1-3-8-全概率公式与贝叶斯公式"><a href="#1-3-8-全概率公式与贝叶斯公式" class="headerlink" title="1.3.8  全概率公式与贝叶斯公式"></a>1.3.8  全概率公式与贝叶斯公式</h2><h3 id="全概率公式"><a href="#全概率公式" class="headerlink" title="全概率公式"></a>全概率公式</h3><p>设B₁,B₂,…为有限或无限个事件，它们两两互斥且在每次试验中至少发生一个，即</p>
<script type="math/tex; mode=display">
B_iB_j=∅(i≠j)</script><script type="math/tex; mode=display">
B_1+B_2+…=\Omega(必然事件)</script><p>把具有这些性质的一组事件称为一个“完备事件群”<br><em>任一事件及其对立事件组成一个完备事件群</em><br>任一事件A.因Ω为必然事件，有A=AΩ=AB₁+AB₂+…(因B₁,B₂,…两两互斥，AB₁,AB₂,…也两两互斥)有:</p>
<script type="math/tex; mode=display">
P(A)= P(AB_1)+P(AB_2)+…</script><p>从而推出全概率公式：</p>
<script type="math/tex; mode=display">
P(A)= P(B₁)P(A|B₁)+P(B₂)P(A|B₂)+…</script><h3 id="贝叶斯公式"><a href="#贝叶斯公式" class="headerlink" title="贝叶斯公式"></a>贝叶斯公式</h3><p>在全概率公式的假定之下，有</p>
<script type="math/tex; mode=display">
P(B_i|A)=P(AB_i)/P(A)=P(B_i)P(A|B_i)/\sum_{j}P(B_j)P(A|B_j)</script><p>这个公式就叫做贝叶斯公式<br>如果我们把事件A看成“结果”,把诸事件B₁,B₂,…看成导致这结果的可能的“原因”,则可以把全概率公式看作“由原因推结果”;而把贝叶斯公式看做“由结果推原因”</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/29/linux%E7%9B%B8%E5%85%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/29/linux%E7%9B%B8%E5%85%B3/" class="post-title-link" itemprop="url">linux相关</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-29 12:31:07" itemprop="dateCreated datePublished" datetime="2023-07-29T12:31:07+08:00">2023-07-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-08-01 16:28:35" itemprop="dateModified" datetime="2023-08-01T16:28:35+08:00">2023-08-01</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li>linux在<strong>服务器领域</strong>的应用是最强的  </li>
<li>linux的特点有：免费、稳定、高效<h1 id="网络连接的三种方式"><a href="#网络连接的三种方式" class="headerlink" title="网络连接的三种方式"></a>网络连接的三种方式</h1><h2 id="1、桥接模式"><a href="#1、桥接模式" class="headerlink" title="1、桥接模式"></a>1、桥接模式</h2>虚拟系统可以和外部系统通信，但是容易造成IP冲突<h2 id="2、NAT模式（网络地址转换模式）"><a href="#2、NAT模式（网络地址转换模式）" class="headerlink" title="2、NAT模式（网络地址转换模式）"></a>2、NAT模式（网络地址转换模式）</h2>虚拟系统可以和外部系统通信，而且不会造成IP冲突<h2 id="3、主机模式"><a href="#3、主机模式" class="headerlink" title="3、主机模式"></a>3、主机模式</h2>独立的系统（不与外界通信）</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/29/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E6%9E%81%E9%99%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/29/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E6%9E%81%E9%99%90/" class="post-title-link" itemprop="url">第二章 极限</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-29 09:09:58" itemprop="dateCreated datePublished" datetime="2023-07-29T09:09:58+08:00">2023-07-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-07-30 16:21:24" itemprop="dateModified" datetime="2023-07-30T16:21:24+08:00">2023-07-30</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一课-数列的极限"><a href="#第一课-数列的极限" class="headerlink" title="第一课 数列的极限"></a>第一课 数列的极限</h1><h2 id="一、数列极限的定义"><a href="#一、数列极限的定义" class="headerlink" title="一、数列极限的定义"></a>一、数列极限的定义</h2><h3 id="数列"><a href="#数列" class="headerlink" title="数列"></a>数列</h3><p>设有定义域在正整数集$N^+$上的函数$u_n=f(x)$（整标函数），把函数值依照n的顺序排出来的无穷数串：</p>
<script type="math/tex; mode=display">
u_1,u_2,u_3,…,u_n…</script><p>叫做数列。第n项$u_n$叫一般项，记作{$u_n$}，则有{$u_n$}=$u_1$,$u_2$,$u_3$…,$u_n$,…</p>
<h3 id="研究问题"><a href="#研究问题" class="headerlink" title="研究问题"></a>研究问题</h3><p>当n无限增加时，数列{$u_n$}能否与某一常数A无限接近？如能，在数学上如何描述？当n→∞时{$u_n$}的变化趋势如何？  </p>
<ul>
<li>设：<script type="math/tex; mode=display">
u_n=\frac{2n+(-1)^{n-1}}{n}</script>一般的说，对于a,b∈R，描述a,b接近程度用|a-b|。则：<script type="math/tex; mode=display">∵u_n=\frac{2n+(-1)^{n-1}}{n}</script><script type="math/tex; mode=display">∴u_n-2=\frac{(-1)^{n-1}}{n}</script><script type="math/tex; mode=display">∵|u_n-2|=|\frac{(-1)^{n-1}}{n}|,|\frac{(-1)^{n-1}}{n}|=\frac{1}{n}</script>∴当n增大时，$\frac{1}{n}$减小，$u_n$和2越来越近；<br>不论给定多么小的正数$\epsilon$&gt;0，总存在正数N。使得当n&gt;N时，不等式<script type="math/tex; mode=display">|u_n-2|>\epsilon</script>总是成立。<h3 id="数列极限的定义"><a href="#数列极限的定义" class="headerlink" title="数列极限的定义"></a>数列极限的定义</h3>设{$x_n$}为以数列，如果存在常数A对于任意给定的正数$\epsilon$总存在正数N，使得当n&gt;N时,不等式{$x_n$}&lt;$\epsilon$成立，那么就称A为{$x_n$}的极限，或者称数列{$x_n$}收敛于a，记为<script type="math/tex; mode=display">
\lim_{n→∞}x_n=A</script>或$x_n$→A。如数列{$x_n$}没有极限，就说数列{$x_n$}是发散的  </li>
</ul>
<hr>
<p><strong>说明：</strong></p>
<ul>
<li><strong>$\epsilon$是任意给定的，只有这样，不等式|$x_n$-A|&lt;$\epsilon$才能表达出$x_n$和A无限接近的意思</strong></li>
<li><strong>定义中的N与$\epsilon$有关，记作N($\epsilon$)，随着$\epsilon$的给定而选定，且不唯一</strong></li>
<li><strong>定义只描述了n→∞时$x_n$→A，没有提供求A的方法</strong></li>
<li><strong>数列{$x_n$}的极限为A的几何解释：</strong><br><strong>任意邻域N(a,$\epsilon$)必存在N使$x<em>{N+1}$，$x</em>{N+2}$,…存在在N(a,$\epsilon$)上。</strong></li>
</ul>
<p><strong><em>注意：</em></strong><br><strong><em>在利用数列的极限定义来论证某个数a是数列{$x_n$}的极限时，重要的是要能够指出定义中所说的这种正整数N确实存在且不唯一。比如如果知道|$x_n$-a|&lt;φ(n)，那么当φ(n)&lt;$\epsilon$时，|$x_n$-a|&lt;$\epsilon$当然也成立。</em></strong></p>
<h2 id="二、收敛数列的性质"><a href="#二、收敛数列的性质" class="headerlink" title="二、收敛数列的性质"></a>二、收敛数列的性质</h2><h3 id="定理1-极限的唯一性"><a href="#定理1-极限的唯一性" class="headerlink" title="定理1 极限的唯一性"></a>定理1 极限的唯一性</h3><p>如果数列{$x_n$}收敛，那么它的极限唯一</p>
<ul>
<li>证：假设$x_n→a且x_n→b$(a&lt;b)，设$\epsilon=\frac{b-a}{2}$<script type="math/tex; mode=display">
∵\lim_{n→∞}=a</script><script type="math/tex; mode=display">
∴ョN_1,当n>N_1时，|x_n-a|<\frac{b-a}{2}</script><script type="math/tex; mode=display">
∴\frac{3a-b}{2}<x_n<\frac{b+a}{2}</script>同理，有<script type="math/tex; mode=display">
|x_n-b|<\frac{b-a}{2}</script>即<script type="math/tex; mode=display">
\frac{a+b}{2}<x_n<\frac{3b-a}{2}</script>由此可见，原式不可能成立，得证</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/25/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABbeautifulsoup%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/25/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABbeautifulsoup%E5%BA%93/" class="post-title-link" itemprop="url">python网络爬虫Beautiful Soup库</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-25 15:37:35" itemprop="dateCreated datePublished" datetime="2023-07-25T15:37:35+08:00">2023-07-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-08-02 16:43:47" itemprop="dateModified" datetime="2023-08-02T16:43:47+08:00">2023-08-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Beautiful-Soup库的理解"><a href="#Beautiful-Soup库的理解" class="headerlink" title="Beautiful Soup库的理解"></a>Beautiful Soup库的理解</h1><p>Beautiful Soup库是解析、遍历、维护“标签树”的功能库。<br>标签包含看宇哥成对出现的名称和0个或多个属性，每个属性都有它的个性和它的值，是键值对构成<br>Beautiful Soup对应一个HTML/XML文档的全部内容  </p>
<h1 id="Beautiful-Soup库可以用的解析器"><a href="#Beautiful-Soup库可以用的解析器" class="headerlink" title="Beautiful Soup库可以用的解析器"></a>Beautiful Soup库可以用的解析器</h1><ul>
<li><p>bs4的HTML解析器:<br>对应代码<br><code>BeautifulSoup(mk,&#39;html.parser&#39;)</code><br>条件：安装bs4库  </p>
</li>
<li><p>lxml的HTML解析器:<br>对应代码<br><code>BeautifulSoup(mk,&#39;lxml&#39;)</code><br>条件：安装lxml库  </p>
</li>
<li><p>lxml的XML解析器<br>对应代码<br><code>BeautifulSoup(mk,&#39;xml&#39;)</code><br>条件：安装lxml库  </p>
</li>
<li><p>html5lib的解析器<br>对应代码<br><code>BeautifulSoup(mk,&#39;html5lib&#39;)</code><br>条件：安装html5lib库  </p>
</li>
</ul>
<h1 id="Beautiful-Soup库的基本元素"><a href="#Beautiful-Soup库的基本元素" class="headerlink" title="Beautiful Soup库的基本元素"></a>Beautiful Soup库的基本元素</h1><ul>
<li>Tag——标签，最基本的信息组织单元，以<>和</>标明开头和结尾</li>
<li>Name——标签的名字，&lt; p&gt; …&lt; p/&gt;的名字是p，格式：&lt; tag&gt;.name</li>
<li>Attributes——标签的属性，字典形式，格式：&lt; tag&gt;.attrs</li>
<li>NavigableString——标签内非属性字符串，<> …</>中字符串，格式：&lt; tag&gt;.string</li>
<li>Comment——标签内字符串的注释部分，一种特殊的Comment类型<h1 id="获得Tag的方法"><a href="#获得Tag的方法" class="headerlink" title="获得Tag的方法"></a>获得Tag的方法</h1>以本博客的主页为例：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line"></span><br><span class="line">url=&quot;https://sophia7414.github.io/&quot;</span><br><span class="line">r=requests.get(url)</span><br><span class="line">soup=BeautifulSoup(r.text,&#x27;html.parser&#x27;)</span><br></pre></td></tr></table></figure>
输出某个标签内容（以title为例）：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(soup.title)</span><br></pre></td></tr></table></figure>
输出（只会输出第一个标签）：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;title&gt;Hexo&lt;/title&gt;</span><br></pre></td></tr></table></figure>
输出某个标签的名字（以a为例）：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(soup.a.name)</span><br></pre></td></tr></table></figure>
输出：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a</span><br></pre></td></tr></table></figure>
输出某个标签的上一级标签的名字（以a为例）：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(soup.a.parent.name)</span><br></pre></td></tr></table></figure>
输出：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div</span><br></pre></td></tr></table></figure>
输出某个标签的属性（以a为例）：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tag=soup.a</span><br><span class="line">print(tag.attrs)</span><br></pre></td></tr></table></figure>
输出：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;href&#x27;: &#x27;/&#x27;, &#x27;class&#x27;: [&#x27;brand&#x27;], &#x27;rel&#x27;: [&#x27;start&#x27;]&#125;</span><br></pre></td></tr></table></figure>
输出某个标签的某一特定属性属性（以a的class为例）：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tag=soup.a</span><br><span class="line">print(tag.attrs[&#x27;class&#x27;])</span><br></pre></td></tr></table></figure>
输出：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;brand&#x27;]</span><br></pre></td></tr></table></figure>
查看标签的类型（以a为例）：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tag=soup.a</span><br><span class="line">print(type(tag))</span><br></pre></td></tr></table></figure>
输出：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;class &#x27;bs4.element.Tag&#x27;&gt;</span><br></pre></td></tr></table></figure>
输出某个标签内非属性字符串（以title为例）：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(soup.title.string)</span><br></pre></td></tr></table></figure>
输出：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hexo</span><br></pre></td></tr></table></figure>
查看其类型：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(type(soup.title.string))</span><br></pre></td></tr></table></figure>
输出：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;class &#x27;bs4.element.NavigableString&#x27;&gt;</span><br></pre></td></tr></table></figure>
最后，我们通过一个新的例子来查看comment类型：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup</span><br><span class="line"></span><br><span class="line">soup=BeautifulSoup(&quot;&lt;b&gt;&lt;!--This is a comment--&gt;&lt;/b&gt;&lt;p&gt;This is not a comment&lt;/p&gt;&quot;,&#x27;html.parser&#x27;)</span><br><span class="line">print(soup.p.string)</span><br><span class="line">print(type(soup.p.string))</span><br><span class="line">print(soup.b.string)</span><br><span class="line">print(type(soup.b.string))</span><br></pre></td></tr></table></figure>
输出：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">This is not a comment</span><br><span class="line">&lt;class &#x27;bs4.element.NavigableString&#x27;&gt;</span><br><span class="line">This is a comment</span><br><span class="line">&lt;class &#x27;bs4.element.Comment&#x27;&gt;</span><br></pre></td></tr></table></figure>
<h1 id="基于Beautiful-Soup库的HTML遍历方法"><a href="#基于Beautiful-Soup库的HTML遍历方法" class="headerlink" title="基于Beautiful Soup库的HTML遍历方法"></a>基于Beautiful Soup库的HTML遍历方法</h1><h2 id="HTML的基本格式"><a href="#HTML的基本格式" class="headerlink" title="HTML的基本格式"></a>HTML的基本格式</h2><img src="/2023/07/25/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABbeautifulsoup%E5%BA%93/html格式.png" alt="基本格式"><h2 id="遍历方式"><a href="#遍历方式" class="headerlink" title="遍历方式"></a>遍历方式</h2></li>
<li><p>下行遍历：<br>方法1：.contents，将所有tag的子节点存入列表<br>方法2：.children，与.contents类似，用于循环遍历子节点<br>方法3：.descendants，子孙节点的迭代类型，包含所有子孙节点，用于循环遍历<br>依然以上次的网站为例，代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line"></span><br><span class="line">url=&quot;https://sophia7414.github.io/&quot;</span><br><span class="line">r=requests.get(url)</span><br><span class="line">soup=BeautifulSoup(r.text,&#x27;html.parser&#x27;)</span><br><span class="line">tag=soup.a</span><br><span class="line">print(tag)</span><br><span class="line">print(&#x27;contents:&#x27;)</span><br><span class="line">print(tag.contents)</span><br><span class="line">print(&#x27;children:&#x27;)</span><br><span class="line">print(list(tag.children))   # 这里返回的是一个迭代器对象</span><br><span class="line">print(&#x27;descendants&#x27;)</span><br><span class="line">print(list(tag.descendants))    # 这里返回一个生成器对象</span><br></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;a class=&quot;brand&quot; href=&quot;/&quot; rel=&quot;start&quot;&gt;</span><br><span class="line">&lt;span class=&quot;logo-line-before&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;h1 class=&quot;site-title&quot;&gt;Hexo&lt;/h1&gt;</span><br><span class="line">&lt;span class=&quot;logo-line-after&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;/a&gt;</span><br><span class="line">contents:</span><br><span class="line">[&#x27;\n&#x27;, &lt;span class=&quot;logo-line-before&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;, &#x27;\n&#x27;, &lt;h1 class=&quot;site-title&quot;&gt;Hexo&lt;/h1&gt;, &#x27;\n&#x27;, &lt;span class=&quot;logo-line-after&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;, &#x27;\n&#x27;]</span><br><span class="line">children:</span><br><span class="line">[&#x27;\n&#x27;, &lt;span class=&quot;logo-line-before&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;, &#x27;\n&#x27;, &lt;h1 class=&quot;site-title&quot;&gt;Hexo&lt;/h1&gt;, &#x27;\n&#x27;, &lt;span class=&quot;logo-line-after&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;, &#x27;\n&#x27;]</span><br><span class="line">descendants</span><br><span class="line">[&#x27;\n&#x27;, &lt;span class=&quot;logo-line-before&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;, &lt;i&gt;&lt;/i&gt;, &#x27;\n&#x27;, &lt;h1 class=&quot;site-title&quot;&gt;Hexo&lt;/h1&gt;, &#x27;Hexo&#x27;, &#x27;\n&#x27;, &lt;span class=&quot;logo-line-after&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;, &lt;i&gt;&lt;/i&gt;, &#x27;\n&#x27;]</span><br></pre></td></tr></table></figure>
</li>
<li><p>上行遍历<br>方法1：.parent，返回节点的父标签<br>方法2：.parents，返回节点的先辈标签的迭代类型，用于循环遍历先辈节点<br>代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(&#x27;parent&#x27;)</span><br><span class="line">print(tag.parent)</span><br><span class="line">print(&#x27;parents:&#x27;)</span><br><span class="line">lis=list(tag.parents)   # 这里返回的是一个生成器对象</span><br><span class="line">print(lis[0],lis[1])</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">parent</span><br><span class="line">&lt;div class=&quot;site-meta&quot;&gt;</span><br><span class="line">&lt;a class=&quot;brand&quot; href=&quot;/&quot; rel=&quot;start&quot;&gt;</span><br><span class="line">&lt;span class=&quot;logo-line-before&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;h1 class=&quot;site-title&quot;&gt;Hexo&lt;/h1&gt;</span><br><span class="line">&lt;span class=&quot;logo-line-after&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">parents:</span><br><span class="line">&lt;div class=&quot;site-meta&quot;&gt;</span><br><span class="line">&lt;a class=&quot;brand&quot; href=&quot;/&quot; rel=&quot;start&quot;&gt;</span><br><span class="line">&lt;span class=&quot;logo-line-before&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;h1 class=&quot;site-title&quot;&gt;Hexo&lt;/h1&gt;</span><br><span class="line">&lt;span class=&quot;logo-line-after&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;/a&gt;</span><br><span class="line">&lt;/div&gt; &lt;div class=&quot;site-brand-container&quot;&gt;</span><br><span class="line">&lt;div class=&quot;site-nav-toggle&quot;&gt;</span><br><span class="line">&lt;div aria-label=&quot;Toggle navigation bar&quot; class=&quot;toggle&quot;&gt;</span><br><span class="line">&lt;span class=&quot;toggle-line toggle-line-first&quot;&gt;&lt;/span&gt;</span><br><span class="line">&lt;span class=&quot;toggle-line toggle-line-middle&quot;&gt;&lt;/span&gt;</span><br><span class="line">&lt;span class=&quot;toggle-line toggle-line-last&quot;&gt;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;site-meta&quot;&gt;</span><br><span class="line">&lt;a class=&quot;brand&quot; href=&quot;/&quot; rel=&quot;start&quot;&gt;</span><br><span class="line">&lt;span class=&quot;logo-line-before&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;h1 class=&quot;site-title&quot;&gt;Hexo&lt;/h1&gt;</span><br><span class="line">&lt;span class=&quot;logo-line-after&quot;&gt;&lt;i&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;site-nav-right&quot;&gt;</span><br><span class="line">&lt;div class=&quot;toggle popup-trigger&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>平行遍历(只在同一个父节点下)<br>方法1：.next_sibling，返回按照HTML文本顺序的下一个平行节点标签<br>方法2：.previous_sibling，返回按照HTML文本顺序的下一个平行节点标签<br>方法3：.next_siblings，迭代类型，返回按照HTML文本顺序的后续所有平行节点标签<br>方法4：.previous_siblings，迭代类型，返回按照HTML文本顺序的前续所有平行节点标签<br>代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">tag=soup.span</span><br><span class="line">print(&#x27;next_sibling&#x27;)</span><br><span class="line">print(tag.next_sibling.next_sibling)</span><br><span class="line">print(&#x27;next_siblings&#x27;)</span><br><span class="line">print(list(tag.next_siblings))    # 这里返回的是一个生成器对象</span><br><span class="line">print(&#x27;previous_sibling&#x27;)</span><br><span class="line">print(tag.previous_sibling.previous_sibling)</span><br><span class="line">print(&#x27;previous_siblings&#x27;)</span><br><span class="line">print(list(tag.previous_siblings))</span><br></pre></td></tr></table></figure>
<p>返回：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">next_sibling</span><br><span class="line">&lt;span class=&quot;toggle-line toggle-line-middle&quot;&gt;&lt;/span&gt;</span><br><span class="line">next_siblings</span><br><span class="line">[&#x27;\n&#x27;, &lt;span class=&quot;toggle-line toggle-line-middle&quot;&gt;&lt;/span&gt;, &#x27;\n&#x27;, &lt;span class=&quot;toggle-line toggle-line-last&quot;&gt;&lt;/span&gt;, &#x27;\n&#x27;]</span><br><span class="line">previous_sibling</span><br><span class="line">None</span><br><span class="line">previous_siblings</span><br><span class="line">[&#x27;\n&#x27;]</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/24/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABrequests%E5%BA%93%E5%AE%9E%E6%88%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/24/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABrequests%E5%BA%93%E5%AE%9E%E6%88%98/" class="post-title-link" itemprop="url">python网络爬虫requests库实战</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-24 14:31:27" itemprop="dateCreated datePublished" datetime="2023-07-24T14:31:27+08:00">2023-07-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-07-25 15:17:20" itemprop="dateModified" datetime="2023-07-25T15:17:20+08:00">2023-07-25</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="爬取京东商品页面"><a href="#爬取京东商品页面" class="headerlink" title="爬取京东商品页面"></a>爬取京东商品页面</h1><p>首先我们选择任意一个商品链接进行爬取，查看状态码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">url=&quot;https://item.jd.com/10025299008302.html&quot;</span><br><span class="line">r=requests.get(url)</span><br><span class="line">print(r.status_code)</span><br></pre></td></tr></table></figure><br>得到结果：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">200</span><br></pre></td></tr></table></figure><br>由此可见爬取成功。随后我们查看编码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(r.encoding)</span><br></pre></td></tr></table></figure><br>输出：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">utf-8</span><br></pre></td></tr></table></figure><br>非默认编码，说明网站提供了编码格式。随后输出爬取内容（前1000位）：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(r.text[:1000])</span><br></pre></td></tr></table></figure><br>输出：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf8&quot; version=&#x27;1&#x27;/&gt;</span><br><span class="line">    &lt;title&gt;京东(JD.COM)-正品低价、品质保障、配送及时、轻松购物！&lt;/title&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes&quot;/&gt;</span><br><span class="line">    &lt;meta name=&quot;description&quot;</span><br><span class="line">          content=&quot;京东JD.COM-专业的综合网上购物商城，为您提供正品低价的购物选择、优质便捷的服务体验。商品来自全球数十万品牌商家，囊括家电、手机、电脑、服装、居家、母婴、美妆、个护、食品、生鲜等丰富品类，满足各种购物需求。&quot;/&gt;</span><br><span class="line">    &lt;meta name=&quot;Keywords&quot; content=&quot;网上购物,网上商城,家电,手机,电脑,服装,居家,母婴,美妆,个护,食品,生鲜,京东&quot;/&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">        window.point = &#123;&#125;</span><br><span class="line">        window.point.start = new Date().getTime()</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">    &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//static.360buyimg.com&quot;/&gt;</span><br><span class="line">    &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//misc.360buyimg.com&quot;/&gt;</span><br><span class="line">    &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//img10.360buyimg.com&quot;/&gt;</span><br><span class="line">    &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//img11.360buyimg.com&quot;/&gt;</span><br><span class="line">    &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//img12.360buyimg.com&quot;/&gt;</span><br><span class="line">    &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//img13.360buyimg.com&quot;/&gt;</span><br><span class="line">    &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//img1</span><br></pre></td></tr></table></figure><br>由此可得爬取的全代码前1000位）为：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">url=&quot;https://item.jd.com/10025299008302.html&quot;</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    r = requests.get(url)</span><br><span class="line">    r.raise_for_status()</span><br><span class="line">    r.encoding = r.apparent_encoding</span><br><span class="line">    print(r.text[:1000])</span><br><span class="line">except:</span><br><span class="line">    print(&#x27;ERROR!!!&#x27;)</span><br></pre></td></tr></table></figure></p>
<h1 id="亚马逊商品页面的爬取"><a href="#亚马逊商品页面的爬取" class="headerlink" title="亚马逊商品页面的爬取"></a>亚马逊商品页面的爬取</h1><p>首先我们选择任意一个商品链接进行爬取，查看状态码和编码信息：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">url=&quot;https://www.amazon.cn/dp/B09PR8KNJK?ref_=Oct_DLandingS_D_d79c7de5_5&quot;</span><br><span class="line">r=requests.get(url)</span><br><span class="line">print(r.status_code)</span><br><span class="line">print(r.encoding)</span><br></pre></td></tr></table></figure><br>得到结果：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">503</span><br><span class="line">ISO-8859-1</span><br></pre></td></tr></table></figure><br>发现爬取出现错误，编码为默认状态，无法阅读爬到的结果，所以修改编码格式后查看爬取的结果：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">r.encoding=r.apparent_encoding</span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure><br>得到结果：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line">        To discuss automated access to Amazon data please contact api-services-support@amazon.com.</span><br><span class="line">        For information about migrating to our APIs refer to our Marketplace APIs at https://developer.amazonservices.com.cn/index.html/ref=rm_5_sv, or our Product Advertising API at https://associates.amazon.cn/gp/advertising/api/detail/main.html/ref=rm_5_ac for advertising use cases.</span><br><span class="line">--&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">   &lt;head&gt;</span><br><span class="line">      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=utf-8&quot;&gt;</span><br><span class="line">      &lt;title&gt;亚马逊&lt;/title&gt;</span><br><span class="line">   &lt;body style=&quot;text-align:center;&quot;&gt;</span><br><span class="line">      &lt;br&gt;</span><br><span class="line">      &lt;div style=&quot;width:600px;margin:0 auto;text-align:left;&quot;&gt;</span><br><span class="line">         &lt;h2&gt;意外错误&lt;/h2&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;br&gt;</span><br><span class="line">      &lt;div style=&quot;width:500px;margin:0 auto;text-align:left;&quot;&gt;&lt;font color=&quot;red&quot;&gt;抱歉，由于程序执行时，遇到意外错误，您刚刚操作没有执行成功，请稍后重试。或将此错误报告给我们的客服中心：&lt;a href=&quot;mailto:service_bj@cs.amazon.cn&quot;&gt;service_bj@cs.amazon.cn&lt;/a&gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;推荐您&lt;a href=&quot;javascript:history.back(1)&quot;&gt;返回上一页&lt;/a&gt;，确认您的操作无误后，再继续其他操作。&lt;br&gt;您可以通过亚马逊&lt;a href=&quot;https://www.amazon.cn/help/ref=cs_503_link/&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;帮助中心&lt;/a&gt;，获得更多的帮助。&lt;br&gt;&lt;/div&gt;</span><br><span class="line">   &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><br>由此可见错误出现在API上，可能是由于网站认出了正在爬取网站信息的是一个爬虫。我们通过查看request中的headers来检查我们发给亚马逊的头部信息：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(r.request.headers)</span><br></pre></td></tr></table></figure><br>输出：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#x27;User-Agent&#x27;: &#x27;python-requests/2.30.0&#x27;, &#x27;Accept-Encoding&#x27;: &#x27;gzip, deflate&#x27;, &#x27;Accept&#x27;: &#x27;*/*&#x27;, &#x27;Connection&#x27;: &#x27;keep-alive&#x27;&#125;</span><br></pre></td></tr></table></figure><br>由此User-Agent条可见，我们告诉网站这次访问是由一个requests库引起的，因此修改头部文件，将爬取的信息改为：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kv=&#123;&#x27;user-agent&#x27;:&#x27;Mozillla/5.0&#x27;&#125;</span><br><span class="line">r=requests.get(url,headers=kv)</span><br></pre></td></tr></table></figure><br>再次查看状态码和头部信息：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(r.status_code)</span><br><span class="line">print(r.request.headers)</span><br></pre></td></tr></table></figure><br>输出：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">200</span><br><span class="line">&#123;&#x27;user-agent&#x27;: &#x27;Mozillla/5.0&#x27;, &#x27;Accept-Encoding&#x27;: &#x27;gzip, deflate&#x27;, &#x27;Accept&#x27;: &#x27;*/*&#x27;, &#x27;Connection&#x27;: &#x27;keep-alive&#x27;&#125;</span><br></pre></td></tr></table></figure><br>可以得出在更换浏览器头后可以正常爬取，输出爬取的全代码（前1000位）：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(r.text[:1000])</span><br></pre></td></tr></table></figure><br>输出：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;&lt;html lang=&quot;zh-cn&quot; class=&quot;a-no-js&quot; data-19ax5a9jf=&quot;dingo&quot;&gt;&lt;!-- sp:feature:head-start --&gt;</span><br><span class="line">&lt;head&gt;&lt;script&gt;var aPageStart = (new Date()).getTime();&lt;/script&gt;&lt;meta charset=&quot;utf-8&quot;/&gt;</span><br><span class="line">&lt;!-- sp:end-feature:head-start --&gt;</span><br><span class="line">&lt;!-- sp:feature:csm:head-open-part1 --&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&#x27;text/javascript&#x27;&gt;var ue_t0=ue_t0||+new Date();&lt;/script&gt;</span><br><span class="line">&lt;!-- sp:end-feature:csm:head-open-part1 --&gt;</span><br><span class="line">&lt;!-- sp:feature:cs-optimization --&gt;</span><br><span class="line">&lt;meta http-equiv=&#x27;x-dns-prefetch-control&#x27; content=&#x27;on&#x27;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;https://images-cn.ssl-images-amazon.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;https://m.media-amazon.com&quot;&gt;</span><br><span class="line">&lt;link rel=&quot;dns-prefetch&quot; href=&quot;https://completion.amazon.com&quot;&gt;</span><br><span class="line">&lt;!-- sp:end-feature:cs-optimization --&gt;</span><br><span class="line">&lt;!-- sp:feature:csm:head-open-part2 --&gt;</span><br><span class="line">&lt;script type=&#x27;text/javascript&#x27;&gt;</span><br><span class="line">window.ue_ihb = (window.ue_ihb || window.ueinit || 0) + 1;</span><br><span class="line">if (window.ue_ihb === 1) &#123;</span><br><span class="line"></span><br><span class="line">var ue_csm = window,</span><br><span class="line">    ue_hob = +new Date();</span><br><span class="line">(function(d)&#123;var e=d.ue=d.ue||&#123;&#125;,f=Date.now||function()&#123;return+new Date&#125;;e.d=function</span><br></pre></td></tr></table></figure><br>由此可得爬取的全代码（前1000位）为：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">url=&quot;https://www.amazon.cn/dp/B09PR8KNJK?ref_=Oct_DLandingS_D_d79c7de5_5&quot;</span><br><span class="line">kv=&#123;&#x27;user-agent&#x27;:&#x27;Mozillla/5.0&#x27;&#125;</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    r=requests.get(url,headers=kv)</span><br><span class="line">    r.raise_for_status()</span><br><span class="line">    r.encoding=r.apparent_encoding</span><br><span class="line">    print(r.text[:1000])</span><br><span class="line">except:</span><br><span class="line">    print(&#x27;ERROR!!!&#x27;)</span><br></pre></td></tr></table></figure></p>
<h1 id="360搜索关键词"><a href="#360搜索关键词" class="headerlink" title="360搜索关键词"></a>360搜索关键词</h1><p>首先，我们知道360的搜索接口是：  <a target="_blank" rel="noopener" href="https://www.so.com/s?q=keyword">https://www.so.com/s?q=keyword</a><br>只要替换掉keyword就可以向搜索引擎提交关键词了，因此我们要用requests库构建这样的URL：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">kv=&#123;&#x27;q&#x27;:&#x27;first&#x27;&#125;    # 关键词对应键值对</span><br><span class="line">url=&quot;https://www.so.com/s&quot;</span><br><span class="line">r=requests.get(url,params=kv)</span><br></pre></td></tr></table></figure><br>查看状态码和编码格式：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(r.status_code)</span><br><span class="line">print(r.encoding)</span><br></pre></td></tr></table></figure><br>输出：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">200</span><br><span class="line">UTF-8</span><br></pre></td></tr></table></figure><br>查看给360的URL:<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(r.request.url)</span><br></pre></td></tr></table></figure><br>输出：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.so.com/s?q=first</span><br></pre></td></tr></table></figure><br>由此可见，kv中的键是接口前标识，值是接口后内容。输出获取代码的长度：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(len(r.text))</span><br></pre></td></tr></table></figure><br>输出：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">433821</span><br></pre></td></tr></table></figure><br>由此可得爬取的全代码（总长度）为：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">kv=&#123;&#x27;q&#x27;:&#x27;first&#x27;&#125;</span><br><span class="line">url=&quot;https://www.so.com/s&quot;</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    r=requests.get(url,params=kv)</span><br><span class="line">    r.raise_for_status()</span><br><span class="line">    print(len(r.text))</span><br><span class="line">except:</span><br><span class="line">    print(&#x27;ERROR!!!&#x27;)</span><br></pre></td></tr></table></figure></p>
<h1 id="图片的爬取与储存"><a href="#图片的爬取与储存" class="headerlink" title="图片的爬取与储存"></a>图片的爬取与储存</h1><p>现在我要爬取这样一张图片 <img src="/2023/07/24/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABrequests%E5%BA%93%E5%AE%9E%E6%88%98/yuantu.png" alt="yuantu"><br>这张图片的地址是：<a target="_blank" rel="noopener" href="https://t7.baidu.com/it/u=1595072465,3644073269&amp;fm=193&amp;f=GIF">https://t7.baidu.com/it/u=1595072465,3644073269&amp;fm=193&amp;f=GIF</a><br>首先，我们来确定保存的路径，并对图片进行爬取，查看它的状态码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">path=&#x27;Z:/blog/source/_posts/python网络爬虫requests库实战/test.jpg&#x27;</span><br><span class="line">url=&quot;https://t7.baidu.com/it/u=1595072465,3644073269&amp;fm=193&amp;f=GIF&quot;</span><br><span class="line">r=requests.get(url)</span><br><span class="line">print(r.status_code)</span><br></pre></td></tr></table></figure><br>输出：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">200</span><br></pre></td></tr></table></figure><br>随后我们来保存这个图片文件（二进制文件）：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">with open(path, &#x27;wb&#x27;) as f:</span><br><span class="line">    f.write(r.content)</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure><br>可以看到结果：<img src="/2023/07/24/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABrequests%E5%BA%93%E5%AE%9E%E6%88%98/result.png" alt="result"><img src="/2023/07/24/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABrequests%E5%BA%93%E5%AE%9E%E6%88%98/test.jpg" alt="test"><br>可以得到爬取的全代码为：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import os.path</span><br><span class="line">import requests</span><br><span class="line"></span><br><span class="line">root=&#x27;Z:/blog/source/_posts/python网络爬虫requests库实战/&#x27;</span><br><span class="line">url=&quot;https://t7.baidu.com/it/u=1595072465,3644073269&amp;fm=193&amp;f=GIF&quot;</span><br><span class="line">name=&#x27;test.jpg&#x27;</span><br><span class="line">path=root+name</span><br><span class="line">try:</span><br><span class="line">    if not os.path.exists(root):</span><br><span class="line">        os.mkdir(root)</span><br><span class="line">    if not os.path.exists(path):</span><br><span class="line">        r=requests.get(url)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        with open(path, &#x27;wb&#x27;) as f:</span><br><span class="line">            f.write(r.content)</span><br><span class="line">            f.close()</span><br><span class="line">            print(&#x27;FINISH&#x27;)</span><br><span class="line">    else:</span><br><span class="line">        print(&#x27;存在&#x27;)</span><br><span class="line">except:</span><br><span class="line">    print(&#x27;ERROR!!!&#x27;)</span><br></pre></td></tr></table></figure></p>
<h1 id="IP地址归属地的自动查询"><a href="#IP地址归属地的自动查询" class="headerlink" title="IP地址归属地的自动查询"></a>IP地址归属地的自动查询</h1><p>可以查询ip地址的网址为：<a target="_blank" rel="noopener" href="https://ip138.com/">https://ip138.com/</a> ，通过查询一个随机ip的方式，我们得到了其搜索接口为：<a target="_blank" rel="noopener" href="https://ip138.com/iplookup.php?ip=">https://ip138.com/iplookup.php?ip=</a> <strong>ipaddress</strong> ，替换掉ipaddress就可以进行查询了，这里我们拿一个随机生成的ip 124.253.96.108 举例，由此我们可以编写代码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">url=&quot;https://ip138.com/iplookup.php?&quot;</span><br><span class="line">kv=&#123;&#x27;ip&#x27;:&#x27;124.253.96.108&#x27;&#125;</span><br><span class="line">header=&#123;&#x27;user-agent&#x27;:&#x27;PostmanRuntime/7.32.3&#x27;,&#x27;Connection&#x27;:&#x27;keep-alive&#x27;&#125;</span><br><span class="line"></span><br><span class="line">r=requests.get(url,headers=header,params=kv,timeout=1000)</span><br></pre></td></tr></table></figure><br>查看状态码和文字编码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(r.status_code)</span><br><span class="line">print(r.encoding)</span><br></pre></td></tr></table></figure><br>输出：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">200</span><br><span class="line">UTF-8</span><br></pre></td></tr></table></figure><br>查看5000到5500个字节：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">pan&gt;&lt;/span&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;</span><br><span class="line">&lt;/tfoot&gt;</span><br><span class="line">&lt;tbody&gt;</span><br><span class="line">&lt;tr class=&quot;active&quot;&gt;</span><br><span class="line">&lt;td class=&quot;th&quot;&gt;ASN归属地&lt;/td&gt;</span><br><span class="line">&lt;td&gt;&lt;span&gt;印度旁遮普&lt;/span&gt;&lt;/td&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;/tbody&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">document.getElementById(&#x27;getmore&#x27;).addEventListener(&#x27;click&#x27;,function()&#123;</span><br><span class="line">var $parent = this.parentNode;</span><br><span class="line">$parent.innerHTML = &#x27;&lt;div class=&quot;link&quot;&gt;\</span><br><span class="line">&lt;a href=&quot;https://www.cnnic.net.cn/&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;CNNIC&lt;/a&gt;\</span><br><span class="line">&lt;a href=&quot;https://www.apnic.net/&quot; target=&quot;_blank&quot; rel=&quot;nofollow&quot;&gt;APNIC&lt;/a&gt;\</span><br><span class="line">&lt;a href=&quot;https:</span><br></pre></td></tr></table></figure><br>由此可得查询ip地址的全代码：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">url=&quot;https://ip138.com/iplookup.php?&quot;</span><br><span class="line">kv=&#123;&#x27;ip&#x27;:&#x27;124.253.96.108&#x27;&#125;</span><br><span class="line">header=&#123;&#x27;user-agent&#x27;:&#x27;PostmanRuntime/7.32.3&#x27;,&#x27;Connection&#x27;:&#x27;keep-alive&#x27;&#125;</span><br><span class="line">try:</span><br><span class="line">    r=requests.get(url,headers=header,params=kv,timeout=1000)</span><br><span class="line">    r.raise_for_status()</span><br><span class="line">    print(r.text[5000:5500])</span><br><span class="line">except:</span><br><span class="line">    print(&#x27;ERROR!!!&#x27;)</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/23/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABRobots%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/23/python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABRobots%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">python网络爬虫Robots协议</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-07-23 15:48:46 / Modified: 16:17:13" itemprop="dateCreated datePublished" datetime="2023-07-23T15:48:46+08:00">2023-07-23</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="网络爬虫的限制"><a href="#网络爬虫的限制" class="headerlink" title="网络爬虫的限制"></a>网络爬虫的限制</h1><p>来源审查：检查来访HTTP协议头的User-Agent，只响应浏览器或友好爬虫的访问<br>发布公告：通过Robots协议告知所有爬虫网站的爬取策略，要求爬虫遵守</p>
<h1 id="Robots协议"><a href="#Robots协议" class="headerlink" title="Robots协议"></a>Robots协议</h1><p>全名Robots Exclusion Standard（网络爬虫排除标准），用来告知网络爬虫吧哪些页面可以爬取，哪些不行，形式为网站根目录下的robots.txt文件，以携程为例，打开<a target="_blank" rel="noopener" href="https://www.ctrip.com/robots.txt，得到结果：">https://www.ctrip.com/robots.txt，得到结果：</a><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line"></span><br><span class="line">Disallow: /bin/</span><br><span class="line"></span><br><span class="line">Disallow: /Member/</span><br><span class="line"></span><br><span class="line">Disallow: /member/</span><br><span class="line">Disallow: /Service/</span><br><span class="line"></span><br><span class="line">Disallow: /service/</span><br><span class="line"></span><br><span class="line">Disallow: /Email/</span><br><span class="line"></span><br><span class="line">Disallow: /email/</span><br><span class="line"></span><br><span class="line">Disallow: /Pda/</span><br><span class="line">Disallow: /pda/</span><br><span class="line"></span><br><span class="line">Disallow: /ShareScript/</span><br><span class="line"></span><br><span class="line">Disallow: /sharescript/</span><br><span class="line"></span><br><span class="line">Disallow: /Public/AllianceCardIndex.asp</span><br><span class="line"></span><br><span class="line">Disallow: /public/alliancecardindex.asp</span><br><span class="line"></span><br><span class="line">Disallow: /supermarket/</span><br><span class="line"></span><br><span class="line">Disallow: /*Alliance*</span><br><span class="line"></span><br><span class="line">Disallow: /*alliance*</span><br><span class="line"></span><br><span class="line">Disallow: /*Ouid*</span><br><span class="line"></span><br><span class="line">Disallow: /*ouid*</span><br><span class="line"></span><br><span class="line">Allow: /</span><br></pre></td></tr></table></figure><br>其中：<br>User-agent: ——任何被提到的user agent都应该遵守以下协议<br>Disallow:——所有在User-agent中的爬虫都不允许访问符合以下格式的网站</p>
<h1 id="Robots协议遵守方式"><a href="#Robots协议遵守方式" class="headerlink" title="Robots协议遵守方式"></a>Robots协议遵守方式</h1><h2 id="robots协议的使用"><a href="#robots协议的使用" class="headerlink" title="robots协议的使用"></a>robots协议的使用</h2><p>网络爬虫：自动或人工的识别robots.txt,再进行内容爬取<br>约束性：Robots协议是建议但非约束性，爬虫可以不遵守但可能产生法律风险</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/21/Python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABRequests%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/21/Python%E7%BD%91%E7%BB%9C%E7%88%AC%E8%99%ABRequests%E5%BA%93/" class="post-title-link" itemprop="url">Python网络爬虫Requests库</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-21 22:20:25" itemprop="dateCreated datePublished" datetime="2023-07-21T22:20:25+08:00">2023-07-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-07-22 21:09:08" itemprop="dateModified" datetime="2023-07-22T21:09:08+08:00">2023-07-22</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="request的基本方法"><a href="#request的基本方法" class="headerlink" title="request的基本方法"></a>request的基本方法</h1><h2 id="变量介绍"><a href="#变量介绍" class="headerlink" title="变量介绍"></a>变量介绍</h2><p>method——请求方式，对应GET/PUT/POST/HEAD/PATCH/DELETE/OPTIONS(获取和服务器以及客户端打交道的参数)七种请求方式（即HTTP的请求功能）<br>url——获取url链接<br>params——额外参数（字典或字节序列格式）<br>**kwargs——13个控制访问的参数</p>
<ul>
<li>params——作为参数增加到URL中（字典格式）  </li>
<li>data——作为request的内容，存储在url连接对应的地方（字典、字节序列或文件格式）  </li>
<li>json——作为request的内容(json格式)  </li>
<li>header——HTTP定制头（字典格式）  </li>
<li>cookies——Request中的cookie（字典或cookiejar格式）  </li>
<li>auth——支持HTTP认证功能（元组格式）  </li>
<li>file——传输文件（字典类型）  </li>
<li>timeout——设定超时时间（单位：秒）  </li>
<li>proxies——设定访问代理服务器，可以增加登录认证（字典格式）  </li>
<li>allow_redirects——重定向开关（True/False，默认为True）  </li>
<li>stream——获取内容立即下载开关（True/False，默认为True）</li>
<li>verify——认证SSL证书开关（True/False，默认为True）</li>
<li>cert——本地SSL证书路径</li>
</ul>
<h2 id="respond对象的常用属性"><a href="#respond对象的常用属性" class="headerlink" title="respond对象的常用属性"></a>respond对象的常用属性</h2><p>status_code：返回状态（200成功）<br>text：返回内容（字符串形式）<br>encoding：从header中猜测的响应内容编码形式，不存在则默认为ISO-8859-1<br>apparent_encoding：从内容中分析出的响应内容编码方式<br>content：响应内容的二进制形式</p>
<hr>
<h2 id="get-方法"><a href="#get-方法" class="headerlink" title="get()方法"></a>get()方法</h2><p>完整方法为<code>request.get(url,params=None,**kwargs)</code>，生成一个request对象来获取数据并返回一个包含所有获取到的数据的response对象，是获取HTML网页的主要方法，对应HTTP里的GET。以百度举例：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line"></span><br><span class="line">url=&quot;https://www.baidu.com/&quot;</span><br><span class="line">r=requests.get(url)</span><br><span class="line"></span><br><span class="line">#返回状态码（200为成功）</span><br><span class="line">print(&#x27;status_code:&#x27;,r.status_code)</span><br><span class="line"># 返回r的类型</span><br><span class="line">print(&#x27;type:&#x27;,type(r))</span><br><span class="line"># 返回头部信息</span><br><span class="line">print(&#x27;headers:&#x27;,r.headers)</span><br><span class="line"># 检查编码类型和应用编码类型</span><br><span class="line">print(&#x27;encoding:&#x27;,r.encoding,&#x27;\napparent_encoding&#x27;,r.apparent_encoding)</span><br><span class="line"># 打印内容（前500字，不支持中文）</span><br><span class="line">print(r.text[:500])</span><br><span class="line"></span><br><span class="line">#改变编码方式为apparen_encoding</span><br><span class="line">r.encoding=r.apparent_encoding</span><br><span class="line"># 打印内容（前500字，变为中文格式）</span><br><span class="line">print(r.text[:500])</span><br></pre></td></tr></table></figure><br>结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">status_code: 200</span><br><span class="line">type: &lt;class &#x27;requests.models.Response&#x27;&gt;</span><br><span class="line">headers: &#123;&#x27;Cache-Control&#x27;: &#x27;private, no-cache, no-store, proxy-revalidate, no-transform&#x27;, &#x27;Connection&#x27;: &#x27;keep-alive&#x27;, &#x27;Content-Encoding&#x27;: &#x27;gzip&#x27;, &#x27;Content-Type&#x27;: &#x27;text/html&#x27;, &#x27;Date&#x27;: &#x27;Sat, 22 Jul 2023 09:04:52 GMT&#x27;, &#x27;Last-Modified&#x27;: &#x27;Mon, 23 Jan 2017 13:24:46 GMT&#x27;, &#x27;Pragma&#x27;: &#x27;no-cache&#x27;, &#x27;Server&#x27;: &#x27;bfe/1.0.8.18&#x27;, &#x27;Set-Cookie&#x27;: &#x27;BDORZ=27315; max-age=86400; domain=.baidu.com; path=/&#x27;, &#x27;Transfer-Encoding&#x27;: &#x27;chunked&#x27;&#125;</span><br><span class="line">encoding: ISO-8859-1 </span><br><span class="line">apparent_encoding utf-8</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=content-type content=text/html;charset=utf-8&gt;&lt;meta http-equiv=X-UA-Compatible content=IE=Edge&gt;&lt;meta content=always name=referrer&gt;&lt;link rel=stylesheet type=text/css href=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&gt;&lt;title&gt;ç¾åº¦ä¸ä¸ï¼ä½ å°±ç¥é&lt;/title&gt;&lt;/head&gt; &lt;body link=#0000cc&gt; &lt;div id=wrapper&gt; &lt;div id=head&gt; &lt;div class=head_wrapper&gt; &lt;div class=s_form&gt; &lt;div class=s_form_wrapper&gt; &lt;div id=lg&gt; &lt;img h</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=content-type content=text/html;charset=utf-8&gt;&lt;meta http-equiv=X-UA-Compatible content=IE=Edge&gt;&lt;meta content=always name=referrer&gt;&lt;link rel=stylesheet type=text/css href=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&gt;&lt;title&gt;百度一下，你就知道&lt;/title&gt;&lt;/head&gt; &lt;body link=#0000cc&gt; &lt;div id=wrapper&gt; &lt;div id=head&gt; &lt;div class=head_wrapper&gt; &lt;div class=s_form&gt; &lt;div class=s_form_wrapper&gt; &lt;div id=lg&gt; &lt;img hidefocus=true src=  </span><br></pre></td></tr></table></figure>
<hr>
<h2 id="request-方法"><a href="#request-方法" class="headerlink" title="request()方法"></a>request()方法</h2><p>完整方法为<code>request.request(method,url,**kwargs)</code>，是所有方法的基础方法，能构造一个请求，支撑剩下六种方法。**kwargs含除了params外12个访问参数。不同的method能通过request实现，也能通过自己的对应方法实现</p>
<h2 id="head-方法"><a href="#head-方法" class="headerlink" title="head()方法"></a>head()方法</h2><p>完整方法为<code>request.head(url,**kwargs)</code>，是获取HTML网页的主要方法，对应HTTP里的HEAD</p>
<h2 id="post-方法"><a href="#post-方法" class="headerlink" title="post()方法"></a>post()方法</h2><p>完整方法为<code>request.post(url,data=None,json=None,**kwargs)</code>其中将<strong>kwargs里的data和json参数单独列出，其余11种还在 </strong>kwargs中。向网页提交POST请求，对应HTTP里的POST</p>
<h2 id="put-方法"><a href="#put-方法" class="headerlink" title="put()方法"></a>put()方法</h2><p>完整方法为<code>request.put(url,data=None,**kwargs)</code>其中将<strong>kwargs里的data参数单独列出，其余12种还在 </strong>kwargs中。向网页提交PUT请求，对应HTTP里的PUT</p>
<h2 id="patch-方法"><a href="#patch-方法" class="headerlink" title="patch()方法"></a>patch()方法</h2><p>完整方法为<code>request.patch(url,data=None,**kwargs)</code>其中将<strong>kwargs里的data参数单独列出，其余12种还在 </strong>kwargs中。向网页提交局部修改请求，对应HTTP里的PATCH</p>
<h2 id="delete-方法"><a href="#delete-方法" class="headerlink" title="delete()方法"></a>delete()方法</h2><p>完整方法为<code>request.delete(url,**kwargs)</code>,向网页提交删除请求，对应HTTP里的DELETE</p>
<hr>
<h1 id="通用代码框架"><a href="#通用代码框架" class="headerlink" title="通用代码框架"></a>通用代码框架</h1><h2 id="常见异常"><a href="#常见异常" class="headerlink" title="常见异常"></a>常见异常</h2><p>ConnectionError——网络连接错误<br>HTTPError——HTTP错误<br>URLReqired——url缺失<br>TooManyRedirects——超过最大重定向次数<br>ConnectionTimeout——连接远程服务器超时<br>Timeout——请求url超时</p>
<h2 id="判断是否产生异常"><a href="#判断是否产生异常" class="headerlink" title="判断是否产生异常"></a>判断是否产生异常</h2><p><code>raise_for_status()</code>方法能在状态码不为200时产生requests.HTTPError异常</p>
<hr>
<p><em>通过上面的内容，我们可以得到爬取网页的通用代码框架</em></p>
<h2 id="爬取网页的通用代码框架"><a href="#爬取网页的通用代码框架" class="headerlink" title="爬取网页的通用代码框架"></a>爬取网页的通用代码框架</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def getHTML(url):</span><br><span class="line">    try:</span><br><span class="line">        r=requests.get(url,timeout=30) # 规定时间内不返回也报错</span><br><span class="line">        r.raise_for_status() # 状态码不为200报错</span><br><span class="line">        r.encoding=r.apparent_encoding</span><br><span class="line">        return r.text[:500]# 返回前500字</span><br><span class="line">    except:</span><br><span class="line">        return &#x27;ERROR!!!&#x27;</span><br></pre></td></tr></table></figure>
<p>用百度测试：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if __name__==&quot;__main__&quot;:</span><br><span class="line">    url=&quot;https://www.baidu.com/&quot;</span><br><span class="line">    print(getHTML(url))</span><br></pre></td></tr></table></figure><br>返回：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=content-type content=text/html;charset=utf-8&gt;&lt;meta http-equiv=X-UA-Compatible content=IE=Edge&gt;&lt;meta content=always name=referrer&gt;&lt;link rel=stylesheet type=text/css href=https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/bdorz/baidu.min.css&gt;&lt;title&gt;百度一下，你就知道&lt;/title&gt;&lt;/head&gt; &lt;body link=#0000cc&gt; &lt;div id=wrapper&gt; &lt;div id=head&gt; &lt;div class=head_wrapper&gt; &lt;div class=s_form&gt; &lt;div class=s_form_wrapper&gt; &lt;div id=lg&gt; &lt;img hidefocus=true src=</span><br></pre></td></tr></table></figure></p>
<hr>
<p>用不存在的网站测试：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if __name__==&quot;__main__&quot;:</span><br><span class="line">    url=&quot;1111111&quot;</span><br><span class="line">    print(getHTML(url))</span><br></pre></td></tr></table></figure><br>返回：<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR!!!</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">第一章 函数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2023-07-20 08:14:14" itemprop="dateCreated datePublished" datetime="2023-07-20T08:14:14+08:00">2023-07-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-07-29 09:59:36" itemprop="dateModified" datetime="2023-07-29T09:59:36+08:00">2023-07-29</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="第一课-函数的概念"><a href="#第一课-函数的概念" class="headerlink" title="第一课 函数的概念"></a>第一课 函数的概念</h1><h2 id="一、区间、邻域"><a href="#一、区间、邻域" class="headerlink" title="一、区间、邻域"></a>一、区间、邻域</h2><h3 id="1、特殊数集"><a href="#1、特殊数集" class="headerlink" title="1、特殊数集"></a>1、特殊数集</h3><p>自然数集——N<br>整数集——Z<br>有理数集——Q<br>实数集——R</p>
<hr>
<h3 id="2、数轴"><a href="#2、数轴" class="headerlink" title="2、数轴"></a>2、数轴</h3><p>建立数轴后：<img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/shuzhou.png" alt="数轴图片">  </p>
<ul>
<li>实数与数轴上的点一一对应；  </li>
<li>某一实数集A与数轴上的某一区间对应</li>
</ul>
<hr>
<h3 id="3、区间"><a href="#3、区间" class="headerlink" title="3、区间"></a>3、区间</h3><p>  <em>设有实数a、b且a＜b，则</em>  </p>
<ul>
<li>{x|a＜x＜b}为一个开区间，记为(a,b)，即(a,b)={x|a＜x＜b}<br><img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/kaiqvjian.png" alt="开区间"><br>同理可得：  </li>
<li>闭区间：[a,b]={x|a≤x≤b}<br><img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/close.png" alt="闭区间">  </li>
<li>半开（闭）区间：[a,b）={x|a≤x&lt;b}或（a,b]={x|a&lt;x≤b}<br><img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/half_1.png" alt="半开区间_1"><img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/half_2.png" alt="半开区间_2">  </li>
</ul>
<p>引入符号：+∞ —— 正无穷；-∞ —— 负无穷，得到：  </p>
<ul>
<li>无穷区间：<br>[a,+∞ ）={x|a≤x}；<br><img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/a_close.jpg" alt="a_close"><br>(a,+∞)={x|a&lt;x}；<br><img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/a_open.jpg" alt="a_open"><br>(-∞,b]={x|x≤b};<br><img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/b_close.jpg" alt="b_close"><br>(-∞,b)={x|x&lt;b}<br><img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/b_open.jpg" alt="b_open"></li>
<li>区间I：不做任何说明的区间</li>
</ul>
<hr>
<h3 id="4、邻域"><a href="#4、邻域" class="headerlink" title="4、邻域"></a>4、邻域</h3><p>设有实数a、δ且δ&gt;0，则称实数集{x|a-δ&lt;x&lt;a+δ}为点a的邻域，记作N(a,δ)，其中a是N(a,δ)的中心，δ是N(a,δ)的半径<br><img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/linyu.jpg" alt="linyu"></p>
<ul>
<li>去心邻域：  把N(a,δ)的中心点a去掉，称为点a的去心邻域，记为N°(a,δ)(去心邻域的°应该在N正上方，在该片以及之后博客中由于无法打出将用以上方式代替表示)，N°(a,δ)={x|0&lt;|x-a|&lt;δ}=N(a,δ) \ {a}（这里的\是去除的意思）<h2 id="二、函数概念"><a href="#二、函数概念" class="headerlink" title="二、函数概念"></a>二、函数概念</h2><h3 id="1、函数的定义"><a href="#1、函数的定义" class="headerlink" title="1、函数的定义"></a>1、函数的定义</h3>设有X、Y两个数集以及一个确定的对应法则（规律）f，∀x∈X，通过f都已唯一的y∈Y与x对应，则称f是定义在X上的函数，记为f(x)=y或<img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/sign_of_function.jpg" alt="sign_of_function"><br>其中，X成为f的定义域，常记为$D_f$，x是自变量，y是因变量。当x遍取X中的一切数时，和他对应的y值构成数集$V_f$={y|y=f(x),x∈X}。Vf称为f的值域。<br><strong><em>注意：</em></strong>  </li>
<li><strong><em>一个函数是由x,y的对应法则与x的取值范围X确定的，把”对应法则”和”函数的定义域”称为函数定义的两个要素(可通过这两个要素判断函数是否成立/函数是否相同)</em></strong></li>
<li><strong><em>函数的值域是由函数的定义域和对应法则确定的</em></strong></li>
<li><strong><em>确定函数定义域的时候，注意函数如有实际意义，应依据实际问题是否有意义来确定（必须使实际问题成立）；如函数不表示某实际问题，自变量所能取得的是使函数y=f(x)成立的一切实数所组成的数集</em></strong></li>
</ul>
<h3 id="2、函数的几何意义"><a href="#2、函数的几何意义" class="headerlink" title="2、函数的几何意义"></a>2、函数的几何意义</h3><p>设函数y=f(x)定义域为$D_f$。∀x∈$D_f$与对应的函数值y=f(x)，在xoy面上得点(x,y)。当x遍取Df中所有实数时，就得到点集P，P={(x,y)|y=f(x),x∈Df}。称点集P为函数y=f(x)的图形。</p>
<h2 id="三、函数的几个简单性质"><a href="#三、函数的几个简单性质" class="headerlink" title="三、函数的几个简单性质"></a>三、函数的几个简单性质</h2><h3 id="1、函数的有界性"><a href="#1、函数的有界性" class="headerlink" title="1、函数的有界性"></a>1、函数的有界性</h3><p>若∃M&gt;0，s.t.(使得)|f(x)|≤M且x∈I，则称f(x)在I上有界；否则则称f(x)在I上无界，即对任何一个正数M&gt;0总∃x1∈I，s.t.|f(x)|&gt;M,则称f(x)在I上无界  </p>
<h4 id="函数的上界和下界"><a href="#函数的上界和下界" class="headerlink" title="函数的上界和下界"></a>函数的上界和下界</h4><ul>
<li>若∃M，s.t.f(x)≤M,∀x∈I，称f(x)在区间I上有下界，任何一个数N&gt;M，N也是f(x)的一个上界。  </li>
<li>若∃P，s.t.f(x)≥P,∀x∈I，称f(x)在区间I上有上界，任何一个数Q&lt;P，Q也是f(x)的一个下界。 </li>
<li>若f(x)在区间I上有界⇔f(x)在I上<br>证：设f(x)在I上有界，根据定义，∃|f(x)|≤M（x∈I）<br>∴-M≤f(x)≤M<br>∴存在上界和下界<br>设f(x)在I上既有上界N也有下界m，即<br>m≤f(x)≤N<br>若N=m=0:<br>f(x)≡0（x∈I）<br>∴f(x)在I上有界<br>若N、m不同时为0:<br>取M=max{|N|,|m|}<br>∴|f(x)|≤M<br>∴f(x)在I上有界<br>得证<h3 id="2、函数的单调性"><a href="#2、函数的单调性" class="headerlink" title="2、函数的单调性"></a>2、函数的单调性</h3>若f(x)在区间I上对任何$x_1$,$x_2$∈I且$x_1$&lt;$x_2$恒有f($x_1$)<f($x_2$)，则称f(x)在I上是严格单调增的(单调增、非减的) 若f(x)在区间i上对任何$x_1$,$x_2$∈i且$x_1$<$x_2$恒有f($x_1$)≤f($x_2$)，则称f(x)在i上是广义单调增的 若f(x)在区间i上对任何$x_1$,$x_2$∈i且$x_1$<$x_2$恒有f($x_1$)>f($x_2$)，则称f(x)在I上是严格单调减的(单调减、非增的)<br>若f(x)在区间I上对任何$x_1$,$x_2$∈I且$x_1$&lt;$x_2$恒有f($x_1$)≥f($x_2$)，则称f(x)在I上是广义单调减的  <h4 id="“取整函数”y-x"><a href="#“取整函数”y-x" class="headerlink" title="“取整函数”y=[x]"></a>“取整函数”y=[x]</h4>其图像如下图所示<br><img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/qvzhenghanshu.jpg" alt="取整函数"><br>由此可见，他是一个广义单调增函数<h3 id="3、函数的奇偶性"><a href="#3、函数的奇偶性" class="headerlink" title="3、函数的奇偶性"></a>3、函数的奇偶性</h3>若f(x)在关于原点对称的区间I上：  </f($x_2$)，则称f(x)在I上是严格单调增的(单调增、非减的)></li>
<li>满足f(-x)=f(x)，则称f(x)为偶函数，图形关于y轴对称</li>
<li>满足f(-x)=-f(x)，则称f(x)为奇函数，图形关于原点对称<h3 id="4、函数的周期性"><a href="#4、函数的周期性" class="headerlink" title="4、函数的周期性"></a>4、函数的周期性</h3>设f(x)的定义域$D_f$，如果存在非0的常数T，s.t.对任意的x∈$D_f$，有(x±T)∈$D_f$，且f(x+T)=f(x)，则f(x)称为周期函数，T称为f(x)的周期<h2 id="四、复合函数、反函数"><a href="#四、复合函数、反函数" class="headerlink" title="四、复合函数、反函数"></a>四、复合函数、反函数</h2><h3 id="1、复合函数"><a href="#1、复合函数" class="headerlink" title="1、复合函数"></a>1、复合函数</h3></li>
<li>一般定义：<br>设y=f(u)是数集Y上的函数(Y是y=f(u)的定义域)，u=φ(x<br>)的定义域为X，值域为Yφ而且Yφ≠∅，Yφ⊆Y，此时∀x∈X，通过U都有唯一的y值与之对应，从而在x上产生了一个新函数，用f·φ来表示，称f·φ为X上的复合函数，记作y=f[φ(x)]或<img src="/2023/07/20/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%87%BD%E6%95%B0/fuhehanshu.jpg" alt="复合函数"></li>
<li>y=f[φ(x)]的定义域：<br>由u=φ(x)的定义域中使函数u=φ(x)的值域Yφ满足Yφ⊆Y的那一部分实数组成  </li>
</ul>
<p><strong><em>注意：f[φ(x)]和φ(x)定义域不一定相同</em></strong></p>
<h3 id="2、反函数"><a href="#2、反函数" class="headerlink" title="2、反函数"></a>2、反函数</h3><p>设f(x)的定义域$D_f$，值域$V_f$，∀y∈$V_f$，至少可以确定一个x属于$D_f$，s.t.f(x)=y<br>如把y看做自变量，x看做因变量，可得一个新函数记作$x=f^{-1}(y)$定义域$V_f$，值域$D_f$,$y=f(x)$称为直接函数，$x=f^{-1}(y)$称为反函数<br><strong><em>注意</em></strong>：  </p>
<ul>
<li><strong><em>虽然直接函数$y=f(x)$是单值的，但其反函数不一定单值</em></strong></li>
<li><strong><em>如果直接函数$y=f(x)$严格单点，则其反函数也是单值单调的</em></strong></li>
<li><strong><em>直接函数$y=f(x)$与反函数$x=f^{-1}(y)$图形相同，习惯上以x表示自变量，y表示因变量，反函数记为$y=f^{-1}(x)$，与$y=f(x)$图形关于直线$y=x$对称。</em></strong><h2 id="补充知识"><a href="#补充知识" class="headerlink" title="补充知识"></a>补充知识</h2></li>
<li>正内接n边形周长 $S_n=n2r*sin(\frac{π}{n})$ </li>
</ul>
<h1 id="第二课-初等函数"><a href="#第二课-初等函数" class="headerlink" title="第二课 初等函数"></a>第二课 初等函数</h1><h2 id="一、基本初等函数"><a href="#一、基本初等函数" class="headerlink" title="一、基本初等函数"></a>一、基本初等函数</h2><p>6类函数：幂函数、指数函数、对数函数、三角函数、反三角函数、常量函数。这些函数称为基本初等函数</p>
<h2 id="二、初等函数"><a href="#二、初等函数" class="headerlink" title="二、初等函数"></a>二、初等函数</h2><p>由基本初等函数经过有限次的四则运算和有限次的复合步骤所构成的能够用一个数学式子表达的函数称为<strong>初等函数</strong>  </p>
<h3 id="初等函数结构分析"><a href="#初等函数结构分析" class="headerlink" title="初等函数结构分析"></a>初等函数结构分析</h3><p>例：分析$y=ln(1+\sqrt{x})$的结构  </p>
<p>解：$y=ln(u),u=1+\sqrt{x}$  </p>
<p>令$u=1+x^{\frac{1}{2}},v=1,w=x^{\frac{1}{2}}$  </p>
<p>∴$y=ln(u),u=v+w,v=1,w=x^{\frac{1}{2}}$   </p>
<h2 id="三、双曲函数"><a href="#三、双曲函数" class="headerlink" title="三、双曲函数"></a>三、双曲函数</h2><p>双曲正弦函数：</p>
<script type="math/tex; mode=display">shx=\frac{e^x-e^{-x}}{2}</script><p>双曲余弦函数：</p>
<script type="math/tex; mode=display">chx=\frac{e^x+e^{-x}}{2}</script><p>双曲正切函数：</p>
<script type="math/tex; mode=display">thx=\frac{shx}{chx}=\frac{e^x-e^{-x}}{e^x+e^{-x}}</script><p>以上函数与三角函数有类似性质：</p>
<script type="math/tex; mode=display">ch^2x-sh^2x=1</script><script type="math/tex; mode=display">sh2x=2shxchx</script><script type="math/tex; mode=display">ch2x=sh^2x+ch^2x</script><p>等等</p>
<h3 id="反双曲函数"><a href="#反双曲函数" class="headerlink" title="反双曲函数"></a>反双曲函数</h3><p>反双曲正弦函数——arsh x<br>反双曲余弦函数——arch x<br>反双曲正切函数——arth x<br><strong><em>双曲函数的反函数的表达式：</em></strong><br>令</p>
<script type="math/tex; mode=display">y=arshx</script><p>则有</p>
<script type="math/tex; mode=display">x=shy=\frac{e^y-e^{-y}}{2}</script><p>令</p>
<script type="math/tex; mode=display">u=e^y</script><p>则</p>
<script type="math/tex; mode=display">2x=u-\frac{1}{u}</script><script type="math/tex; mode=display">∴u_1=x+\sqrt{x^2+1},u_2=x-\sqrt{x^2+1}</script><script type="math/tex; mode=display">∵e^y>0</script><script type="math/tex; mode=display">∴u=x+\sqrt{x^2+1}</script><script type="math/tex; mode=display">∴arshx=y=ln(x+\sqrt{x^2+1})</script><p>同理可得：</p>
<script type="math/tex; mode=display">archx=ln(x+\sqrt{x^2-1})</script><script type="math/tex; mode=display">arthx=\frac{1}{2}ln\frac{1+x}{1-x}</script>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/07/19/first-try/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/07/19/first-try/" class="post-title-link" itemprop="url">first try</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2023-07-19 15:37:20 / Modified: 15:44:21" itemprop="dateCreated datePublished" datetime="2023-07-19T15:37:20+08:00">2023-07-19</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="test"><a href="#test" class="headerlink" title="test"></a>test</h2><p>eeeeeeeeeeeeeee</p>
<hr>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
